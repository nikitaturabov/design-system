<template>
	<main class="ds-block-view">
		<router-view></router-view>
		<div class="ds-block-view__preload" v-if="hasCurrentComponent">
			<svg
				class="ds-block-view__logo"
				width="558"
				height="111"
				viewBox="0 0 558 111"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<circle cx="55.5" cy="55.5" r="55.5" fill="url(#paint0_linear)" />
				<path
					d="M57.276 79.6183C72.4354 79.6183 77.7 68.8989 78.588 64.3955H67.6783C66.7269 66.108 63.936 69.9137 57.276 69.9137C49.7914 69.9137 45.2246 63.7612 45.2246 56.34C45.2246 48.9189 49.7914 42.7663 57.276 42.7663C63.492 42.7663 66.6 46.5086 67.6149 48.2846H78.588C77.5097 43.1469 71.928 33.0617 57.276 33.0617C43.7657 33.0617 34.188 42.9566 34.188 56.34C34.188 69.7235 43.7657 79.6183 57.276 79.6183ZM85.3407 33.8229V78.8572H125.491V69.5332H96.1235V59.892H112.171V50.8217H96.1235V42.7029H123.017V33.8229H85.3407ZM131.549 33.8229V78.8572H142.079V47.8406L166.625 78.984H175.379V33.8229H165.103V61.4143L143.791 33.8229H131.549ZM181.399 43.2103H198.461V78.8572H209.18V43.2103H226.243V33.8229H181.399V43.2103ZM232.267 78.8572H243.05V61.7315H255.418L264.933 78.8572H276.286L266.138 60.5263C271.529 58.56 274.701 54.2469 274.701 47.9675C274.701 38.6435 268.612 33.8229 258.653 33.8229H232.267V78.8572ZM243.05 43.0835H257.512C261.571 43.0835 263.664 44.5423 263.664 47.9675C263.664 51.0755 261.508 52.6612 257.512 52.6612H243.05V43.0835ZM304.01 79.6183C317.457 79.6183 327.859 70.0406 327.859 56.34C327.859 42.5126 317.457 33.0617 304.01 33.0617C290.5 33.0617 280.098 42.5126 280.098 56.34C280.098 70.104 290.436 79.6183 304.01 79.6183ZM304.01 69.9772C296.082 69.9772 291.071 64.0149 291.071 56.34C291.071 48.7286 296.082 42.7029 304.01 42.7029C311.939 42.7029 316.886 48.792 316.886 56.34C316.886 63.9515 311.939 69.9772 304.01 69.9772ZM331.564 78.8572H377.042V69.4697H348.246L374.188 39.8486V33.8229H332.198V43.1469H357.253L331.564 72.7046V78.8572ZM403.675 79.6183C417.122 79.6183 427.524 70.0406 427.524 56.34C427.524 42.5126 417.122 33.0617 403.675 33.0617C390.165 33.0617 379.762 42.5126 379.762 56.34C379.762 70.104 390.101 79.6183 403.675 79.6183ZM403.675 69.9772C395.746 69.9772 390.735 64.0149 390.735 56.34C390.735 48.7286 395.746 42.7029 403.675 42.7029C411.603 42.7029 416.551 48.792 416.551 56.34C416.551 63.9515 411.603 69.9772 403.675 69.9772ZM434.631 78.8572H445.414V61.7315H457.783L467.297 78.8572H478.651L468.502 60.5263C473.894 58.56 477.065 54.2469 477.065 47.9675C477.065 38.6435 470.976 33.8229 461.018 33.8229H434.631V78.8572ZM445.414 43.0835H459.876C463.935 43.0835 466.029 44.5423 466.029 47.9675C466.029 51.0755 463.872 52.6612 459.876 52.6612H445.414V43.0835ZM484.619 78.8572H503.267C517.665 78.8572 527.94 70.8652 527.94 56.34C527.94 41.5612 517.665 33.8229 503.267 33.8229H484.619V78.8572ZM503.076 43.0835C511.385 43.0835 516.967 47.6503 516.967 56.34C516.967 64.7126 511.385 69.5966 503.076 69.5966H495.401V43.0835H503.076Z"
					fill="white"
				/>
				<defs>
					<linearGradient
						id="paint0_linear"
						x1="-115.625"
						y1="-13.875"
						x2="55.5"
						y2="111"
						gradientUnits="userSpaceOnUse"
					>
						<stop offset="0.462156" stop-color="#FC5050" />
						<stop offset="1" stop-color="#FC5050" />
					</linearGradient>
				</defs>
			</svg>
		</div>
	</main>
</template>

<script>
export default {
	computed: {
		hasCurrentComponent() {
			return this.$store.getters.getCurrentPage == "/system";
		},
	},
	mounted() {
		this.$store.dispatch("changePage");
	},
};
</script>

<style lang="scss">
.ds-block-view {
	background: #eff3f9;
	overflow-y: auto;
	height: 100vh;

	position: relative;
	&__preload {
		position: absolute;
		background: #53575a;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;

		display: flex;
		justify-content: center;
		align-items: center;
	}

	&__logo {
		animation: logoAnim 5s linear infinite;
	}
}

@keyframes logoAnim {
	0% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.1);
	}
	100% {
		transform: scale(1);
	}
}
</style>
